<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title><: $title :></title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="alternate" type="application/atom+xml" title="<: $feed_title :>" href="<: $feed_url :>" />
    : for $css -> $item {
    <link rel="stylesheet" type="text/css" media="all" href="<: $item :>" />
    : }
    : for $js -> $item {
    <script type="text/javascript" src="<: $item :>"></script>
    : }
  </head>
  <body>
    <!-- 
         I like having a factory to clone dom elements from, 
         but should my libraries (like $.mn.panel) rely on it?
    -->
    <div id="factory" style="display: none;">
      <ul>
        <li class="panel_icon">
          <img src="/favicon.ico" alt="" width="16" height="16"/>
        </li>
      </ul>
    </div>
    <div id="panels"></div>
    <menu id="main" type="toolbar">
      : if $doorman.is_sign_in {
      <li><a href="<: $doorman.sign_out_path :>">(<: $doorman.twitter_screen_name :>) Sign Out</a></li>
      : }
      : else {
      <li><a href="<: $doorman.sign_in_path :>">Sign In</a></li>
      : }
    </menu>
    <div id="content">
      <: $content | raw :>
    </div>
  </body>
</html>
